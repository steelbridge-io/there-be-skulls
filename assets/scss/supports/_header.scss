/** Header */

/** nav */

.cart-count {
  background: #ff0000; /* Red background */
  color: #ffffff; /* White text */
  padding: 0px 10px;
  border-radius: 50%;
  margin-left: 1px;
  font-weight: bold;
}

.menu-item {
  &.cart-menu {
    display: flex;
    align-items: center;
    .cart-contents {
      color: $nav-color
    }
  }
  &.nav-search,
  &.search-option {
    display: flex;
    align-items: center;
    color: $nav-color !important;
  }
}
  .dropdown-submenu {
    position: relative;
  }

  .dropdown-submenu > .dropdown-menu {
    top: 0;
    left: 100%;
    margin-top: -1px;
    display: none;
  }

  .menu-item-has-children {
    .dropdown-menu {
      background-color: $masthead;
      .dropdown-item:hover,
      .dropdown-item:focus,
      .dropdown-item:active {
        background-color: $masthead;
      }
      .dropdown-item {
        color: $white;
      }
    }
  }

  .dropdown-item,
  .dropdown-item:active
  .dropdown-item.active {
    background-color: $masthead !important;
  }

  /* Show dropdown menu on hover */
  .dropdown:hover > .dropdown-menu {
    display: block;
  }

  .dropdown-submenu:hover > .dropdown-menu {
    display: block;
  }

  /** /nav */

  #title-front-page {
    opacity: 0;
    transition: opacity 1s ease-in-out;
  }

  #title-front-page.fade-in {
    opacity: 1; /* Visible after fade-in */
  }

  #intro-title {
    opacity: 0;
    transition: opacity 1s ease-in-out;
  }

  #intro-title.fade-in {
    opacity: 1; /* Visible after fade-in */
  }

  // Hamburger icon alignment
  .navbar-toggler {
    right: 15px;
  }

  .nav-wrapper {
    background-color: #595958;
  }

  .logged-in {
    .sticky-top {
      top: 32px;
    }
    .sticky-top.no-theme-mod {
      top: 0;
    }
  }

  #navbar {
    height: 63px;
    .logo {
      max-width: 48px;
      height: auto;
      position: initial;
      left: 50%;
    }
  }

  #navbar-header {
    /*height:63px;*/
    justify-items: center;
    .logo {
      max-width: 300px;
      transition: all 1.5s ease-in-out;
      position: absolute;
      top: 15em;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    &.small .logo {
      max-width: 48px;
      top: 5px;
      left: calc(3% + 10px);
      transform: translate(0, 0);
    }
    &.no-transition .logo {
      transition: none !important;
    }
  }

  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    transition: opacity 1.5s ease-in-out; // Match the logo transition duration
    z-index: 999; // Behind the logo
    opacity: 1;
  }

  .fade-out {
    opacity: 0;
    transition: opacity 1.5s ease-in-out;
  }

  .fade-out-complete {
    z-index: -1;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .is-sticky {
    width: 100%;
    background-color: $nav_grey;
    padding: 0;
    transition: background-color 0.25s, padding-bottom 0.25s;
    z-index: 1000;
  }

  /**
  Header Carousel
   */

  .header-carousel {
    background-color: $white_background;
    .carousel-item {
      a {
        .header-carousel-text {
          color: $font_dark;
          font-size: 1.2rem;
        }
      }
    }
  }

  #masthead {
    background-color: $masthead;
  }

  /**
  Navigation - menu
   */
  .navigation {
    margin-bottom: 5em;
    /*padding-bottom: 1em;*/
    background-color: $masthead;
    transition: background-color 0.25s;
    .navbar {
      li {
        margin-left: .5em;
        margin-right: .5em;
        a {
          font-size: 1rem;
        }
      }
    }
  }

  // Hide close button on larger screens
  @media (min-width: 1199.99px) {
    .close-menu {
      display: none;
    }
    #navbar-header {
      .container {
        .navbar {
          margin: 0 auto 0 auto;
        }
      }
    }
  }

  @media (max-width: 1200px) {
    /* Handle text overflow */
    .dropdown-menu .dropdown-item {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .dropdown-submenu > .dropdown-menu {
      left: 100%;
      right: auto;
      top: 0;
      margin-top: -1px;
    }
  }

  // Adjust the menu when collapsed
  @media (max-width: 1199.98px) {
    .navbar-toggler {
      margin-right: 15px;
    }

    .navbar-collapse {
      transition: transform 0.3s ease;
      transform: translateX(100%);
      position: fixed;
      top: 0;
      right: 0;
      height: 100%;
      width: 60%;
      background-color: #343a40;
      z-index: 999;

      // Ensuring the menu items are aligned to left of the right sliding panel
      padding: 1rem;
    }

    .navbar-collapse.show {
      transform: translateX(0);
    }

    // Adding padding to main content when menu is open
    .navbar .container-fluid {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }

    .close-menu {
      position: absolute;
      top: 10px;
      right: 10px;
      background: transparent;
      border: none;
      color: $white;
      font-size: 2.5rem;
    }

    #navbar-header {
      .container {
        .navbar {
          margin: 0 0 0 auto;
        }
      }
    }
    #navbar-header {
      &.small .logo {
        max-width: 48px;
        top: 5px;
        left: calc(9% + 10px);
        transform: translate(0, 0);
      }
    }
  }

  /* Media query for landscape orientation on tablets and mobiles */
  @media (max-width: 1199.99px) and (orientation: landscape) {
    #main-menu {
      list-style: none;
      margin: 0;
      padding: 2em 0;
      height: 100vh !important;
      max-height: 100vh;
      overflow-y: auto !important;
      overflow-x: hidden;
      padding: 2em 0;
    }
  }

  @media (max-width: 767.99px) {
    .navbar-collapse {
      width: 90%;
    }
  }